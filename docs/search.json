[
  {
    "objectID": "variables.html",
    "href": "variables.html",
    "title": "3  変数へのアクセス",
    "section": "",
    "text": "pacman::p_load(tidyverse,\n               haven,\n               janitor,\n               here)\nd <- read_dta(here(\"data\",\"raw\",\"u001.dta\"))\n# A tibble: 1,000 × 72と表示されており，1 これはデータが1000行72列から構成されていることを示している． これは社会調査の場合，1000のケース（対象者）と72の変数からなるデータであることを意味する．\nでは変数のひとつである出生年ybirthについてみていきたい．dというデータの中に，ybirthという変数はあるが，ybirthとそのまま入力してもobject 'ybirth' not foundといったエラーがでてくる．\nこれはybirthという変数はdというデータの中にあるからである． データの中の変数にアクセスするためにはデータ名$変数名のようにする．"
  },
  {
    "objectID": "variables.html#新しい変数の作成",
    "href": "variables.html#新しい変数の作成",
    "title": "3  変数へのアクセス",
    "section": "4.1 新しい変数の作成",
    "text": "4.1 新しい変数の作成\n\nd |> mutate(age_2006 = 2006 - ybirth)\n\n# A tibble: 1,000 × 73\n   caseid sex        ybirth mbirth ZQ03        JC_1     JC_41    ZQ08A   ZQ08B  \n    <dbl> <dbl+lbl>   <dbl>  <dbl> <dbl+lbl>   <dbl+lb> <dbl+lb> <dbl+l> <dbl+l>\n 1  10001 1 [male]     1976     10 1 [してい…  2 [正… 12     … 4 [週… 1 [毎…\n 2  10002 1 [male]     1972      1 1 [してい…  2 [正…  9     … 6 [ほ… 2 [週…\n 3  10003 1 [male]     1975      4 1 [してい…  2 [正…  9     … 6 [ほ… 6 [ほ…\n 4  10004 2 [female]   1974     11 1 [してい…  2 [正…  7     … 6 [ほ… 1 [毎…\n 5  10005 1 [male]     1978      1 2 [してい… 10 [無… 88 [非… 6 [ほ… 2 [週…\n 6  10006 1 [male]     1984      2 2 [してい… 10 [無… 88 [非… 6 [ほ… 1 [毎…\n 7  10007 2 [female]   1976      6 1 [してい…  2 [正…  8     … 6 [ほ… 4 [週…\n 8  10008 1 [male]     1975      4 1 [してい…  2 [正…  9     … 5 [月… 2 [週…\n 9  10009 2 [female]   1985      9 1 [してい…  3 [パ…  5     … 1 [毎… 1 [毎…\n10  10010 1 [male]     1972      2 1 [してい…  2 [正…  8     … 6 [ほ… 1 [毎…\n# ℹ 990 more rows\n# ℹ 64 more variables: ZQ08C <dbl+lbl>, ZQ08D <dbl+lbl>, ZQ08E <dbl+lbl>,\n#   ZQ08F <dbl+lbl>, ZQ08G <dbl+lbl>, ZQ08H <dbl+lbl>, ZQ11_A <dbl+lbl>,\n#   ZQ11_B <dbl+lbl>, ZQ11_C <dbl+lbl>, ZQ11_D <dbl+lbl>, ZQ11_E <dbl+lbl>,\n#   ZQ11_F <dbl+lbl>, ZQ11_G <dbl+lbl>, ZQ11_H <dbl+lbl>, ZQ11_I <dbl+lbl>,\n#   ZQ11_J <dbl+lbl>, ZQ11_K <dbl+lbl>, ZQ11_L <dbl+lbl>, ZQ11_M <dbl+lbl>,\n#   ZQ11_N <dbl+lbl>, ZQ11_O <dbl+lbl>, ZQ12 <dbl+lbl>, ZQ14_1A <dbl+lbl>, …\n\nd |> mutate(age_2006 = 2006 - ybirth, .before = 1)\n\n# A tibble: 1,000 × 73\n   age_2006 caseid sex        ybirth mbirth ZQ03       JC_1     JC_41    ZQ08A  \n      <dbl>  <dbl> <dbl+lbl>   <dbl>  <dbl> <dbl+lbl>  <dbl+lb> <dbl+lb> <dbl+l>\n 1       30  10001 1 [male]     1976     10 1 [してい…  2 [正… 12     … 4 [週…\n 2       34  10002 1 [male]     1972      1 1 [してい…  2 [正…  9     … 6 [ほ…\n 3       31  10003 1 [male]     1975      4 1 [してい…  2 [正…  9     … 6 [ほ…\n 4       32  10004 2 [female]   1974     11 1 [してい…  2 [正…  7     … 6 [ほ…\n 5       28  10005 1 [male]     1978      1 2 [してい… 10 [無… 88 [非… 6 [ほ…\n 6       22  10006 1 [male]     1984      2 2 [してい… 10 [無… 88 [非… 6 [ほ…\n 7       30  10007 2 [female]   1976      6 1 [してい…  2 [正…  8     … 6 [ほ…\n 8       31  10008 1 [male]     1975      4 1 [してい…  2 [正…  9     … 5 [月…\n 9       21  10009 2 [female]   1985      9 1 [してい…  3 [パ…  5     … 1 [毎…\n10       34  10010 1 [male]     1972      2 1 [してい…  2 [正…  8     … 6 [ほ…\n# ℹ 990 more rows\n# ℹ 64 more variables: ZQ08B <dbl+lbl>, ZQ08C <dbl+lbl>, ZQ08D <dbl+lbl>,\n#   ZQ08E <dbl+lbl>, ZQ08F <dbl+lbl>, ZQ08G <dbl+lbl>, ZQ08H <dbl+lbl>,\n#   ZQ11_A <dbl+lbl>, ZQ11_B <dbl+lbl>, ZQ11_C <dbl+lbl>, ZQ11_D <dbl+lbl>,\n#   ZQ11_E <dbl+lbl>, ZQ11_F <dbl+lbl>, ZQ11_G <dbl+lbl>, ZQ11_H <dbl+lbl>,\n#   ZQ11_I <dbl+lbl>, ZQ11_J <dbl+lbl>, ZQ11_K <dbl+lbl>, ZQ11_L <dbl+lbl>,\n#   ZQ11_M <dbl+lbl>, ZQ11_N <dbl+lbl>, ZQ11_O <dbl+lbl>, ZQ12 <dbl+lbl>, …\n\nd <- d |> mutate(age_2006 = 2006 - ybirth)\nd |> count(ybirth, age_2006)\n\n# A tibble: 15 × 3\n   ybirth age_2006     n\n    <dbl>    <dbl> <int>\n 1   1972       34    70\n 2   1973       33    81\n 3   1974       32    82\n 4   1975       31    70\n 5   1976       30    76\n 6   1977       29    84\n 7   1978       28    53\n 8   1979       27    54\n 9   1980       26    48\n10   1981       25    70\n11   1982       24    44\n12   1983       23    67\n13   1984       22    67\n14   1985       21    64\n15   1986       20    70"
  },
  {
    "objectID": "variables.html#変数の選択",
    "href": "variables.html#変数の選択",
    "title": "3  変数へのアクセス",
    "section": "4.2 変数の選択",
    "text": "4.2 変数の選択\n\nd |> select(ybirth)\n\n# A tibble: 1,000 × 1\n   ybirth\n    <dbl>\n 1   1976\n 2   1972\n 3   1975\n 4   1974\n 5   1978\n 6   1984\n 7   1976\n 8   1975\n 9   1985\n10   1972\n# ℹ 990 more rows"
  },
  {
    "objectID": "variables.html#変数をベクトルとして取り出す",
    "href": "variables.html#変数をベクトルとして取り出す",
    "title": "3  変数へのアクセス",
    "section": "4.3 変数をベクトルとして取り出す",
    "text": "4.3 変数をベクトルとして取り出す\n\nd |> pull(ybirth)\n\n   [1] 1976 1972 1975 1974 1978 1984 1976 1975 1985 1972 1974 1973 1984 1972\n  [15] 1985 1982 1984 1980 1972 1978 1982 1978 1979 1975 1973 1975 1977 1973\n  [29] 1983 1976 1983 1977 1978 1978 1975 1986 1986 1975 1980 1981 1977 1984\n  [43] 1982 1976 1975 1978 1977 1979 1986 1984 1972 1983 1976 1974 1974 1985\n  [57] 1979 1986 1981 1986 1983 1980 1983 1981 1976 1978 1974 1977 1986 1985\n  [71] 1985 1977 1974 1976 1983 1985 1973 1986 1973 1982 1980 1973 1983 1980\n  [85] 1983 1979 1974 1972 1979 1985 1976 1973 1985 1985 1973 1978 1975 1983\n  [99] 1980 1981 1979 1981 1982 1972 1980 1973 1976 1980 1984 1985 1979 1986\n [113] 1975 1986 1983 1974 1979 1972 1981 1974 1973 1980 1980 1981 1973 1972\n [127] 1980 1978 1980 1972 1984 1972 1982 1978 1977 1972 1984 1985 1983 1974\n [141] 1979 1984 1974 1983 1976 1976 1977 1984 1974 1976 1972 1986 1980 1981\n [155] 1975 1973 1986 1975 1981 1985 1983 1984 1983 1974 1980 1981 1976 1977\n [169] 1973 1974 1982 1973 1972 1983 1978 1974 1985 1976 1977 1983 1977 1973\n [183] 1982 1972 1983 1978 1972 1975 1974 1985 1974 1981 1974 1974 1986 1980\n [197] 1974 1977 1973 1979 1986 1979 1977 1976 1975 1985 1978 1975 1973 1978\n [211] 1976 1984 1974 1977 1973 1980 1976 1981 1977 1986 1981 1986 1981 1978\n [225] 1979 1972 1984 1973 1977 1981 1979 1979 1984 1984 1973 1973 1977 1973\n [239] 1972 1978 1977 1981 1984 1981 1972 1981 1976 1977 1985 1986 1983 1981\n [253] 1985 1973 1976 1978 1977 1981 1973 1981 1978 1976 1972 1973 1981 1972\n [267] 1980 1975 1976 1973 1983 1974 1973 1985 1980 1976 1983 1983 1984 1985\n [281] 1975 1983 1981 1972 1986 1984 1972 1972 1984 1981 1974 1984 1979 1974\n [295] 1984 1972 1974 1978 1985 1972 1986 1976 1973 1977 1975 1983 1978 1976\n [309] 1978 1976 1979 1976 1976 1973 1982 1982 1973 1986 1974 1986 1975 1976\n [323] 1976 1979 1981 1981 1977 1985 1976 1972 1975 1976 1980 1981 1979 1973\n [337] 1978 1974 1975 1984 1976 1973 1981 1981 1979 1973 1981 1978 1975 1977\n [351] 1976 1975 1976 1986 1986 1986 1979 1985 1978 1974 1980 1978 1976 1975\n [365] 1984 1983 1979 1985 1985 1984 1981 1976 1974 1981 1983 1973 1977 1975\n [379] 1977 1986 1973 1976 1972 1981 1985 1985 1981 1981 1980 1984 1975 1974\n [393] 1986 1979 1974 1977 1975 1983 1977 1982 1975 1986 1983 1975 1986 1981\n [407] 1974 1983 1972 1985 1980 1979 1976 1974 1977 1972 1985 1975 1979 1980\n [421] 1986 1978 1976 1980 1974 1985 1976 1977 1977 1980 1977 1984 1981 1983\n [435] 1982 1983 1981 1974 1980 1983 1975 1983 1972 1985 1980 1981 1972 1985\n [449] 1981 1977 1976 1976 1984 1976 1972 1983 1986 1983 1976 1981 1981 1983\n [463] 1976 1975 1982 1977 1975 1977 1983 1979 1974 1975 1984 1974 1972 1978\n [477] 1972 1984 1981 1972 1981 1974 1985 1972 1977 1972 1981 1977 1981 1977\n [491] 1975 1973 1978 1972 1973 1986 1985 1985 1972 1976 1979 1972 1972 1973\n [505] 1975 1973 1986 1980 1975 1975 1982 1986 1985 1979 1977 1981 1977 1978\n [519] 1980 1983 1983 1972 1984 1972 1983 1984 1979 1976 1986 1984 1978 1977\n [533] 1983 1974 1977 1973 1980 1980 1973 1982 1975 1974 1973 1977 1981 1972\n [547] 1974 1973 1983 1980 1977 1980 1973 1978 1984 1983 1986 1974 1985 1977\n [561] 1980 1983 1977 1984 1975 1973 1984 1977 1983 1982 1985 1980 1973 1977\n [575] 1973 1973 1979 1975 1982 1985 1982 1982 1977 1984 1974 1982 1978 1974\n [589] 1978 1986 1981 1978 1975 1975 1972 1973 1974 1986 1972 1985 1973 1975\n [603] 1981 1979 1975 1977 1976 1986 1977 1985 1974 1984 1976 1986 1985 1972\n [617] 1973 1972 1985 1976 1981 1986 1978 1974 1977 1980 1978 1977 1980 1982\n [631] 1974 1973 1979 1982 1982 1984 1973 1983 1982 1972 1975 1974 1975 1979\n [645] 1974 1986 1986 1972 1984 1972 1980 1973 1985 1986 1972 1984 1974 1976\n [659] 1984 1972 1985 1977 1976 1976 1982 1986 1985 1984 1986 1984 1985 1972\n [673] 1979 1982 1982 1978 1973 1984 1976 1974 1976 1984 1975 1972 1975 1972\n [687] 1978 1981 1976 1979 1978 1975 1976 1976 1985 1984 1974 1973 1977 1985\n [701] 1979 1972 1975 1976 1974 1973 1976 1972 1975 1975 1975 1979 1975 1983\n [715] 1977 1979 1977 1981 1983 1986 1986 1982 1983 1973 1975 1977 1976 1983\n [729] 1972 1974 1985 1977 1975 1976 1977 1977 1977 1984 1981 1984 1977 1973\n [743] 1976 1984 1972 1982 1980 1977 1981 1986 1974 1984 1982 1973 1978 1978\n [757] 1983 1981 1974 1982 1974 1972 1975 1981 1979 1979 1979 1975 1975 1981\n [771] 1974 1979 1974 1985 1974 1984 1981 1980 1976 1979 1974 1974 1983 1982\n [785] 1985 1973 1974 1975 1981 1975 1974 1983 1974 1972 1974 1973 1972 1985\n [799] 1974 1973 1974 1985 1973 1978 1986 1977 1979 1975 1973 1973 1980 1975\n [813] 1976 1976 1975 1972 1977 1972 1977 1986 1978 1973 1985 1979 1974 1986\n [827] 1983 1982 1982 1986 1973 1976 1981 1981 1978 1978 1975 1986 1981 1972\n [841] 1976 1978 1986 1983 1973 1973 1976 1982 1982 1977 1977 1978 1984 1977\n [855] 1975 1979 1984 1975 1974 1984 1984 1978 1981 1979 1977 1985 1977 1976\n [869] 1976 1974 1977 1985 1986 1973 1979 1979 1981 1976 1982 1974 1978 1984\n [883] 1979 1980 1977 1985 1984 1979 1983 1983 1981 1981 1982 1974 1986 1986\n [897] 1984 1982 1980 1986 1973 1974 1974 1974 1985 1984 1976 1976 1979 1977\n [911] 1984 1982 1982 1981 1983 1980 1978 1979 1986 1983 1984 1973 1984 1986\n [925] 1976 1975 1978 1980 1986 1986 1977 1977 1977 1977 1973 1984 1973 1986\n [939] 1972 1986 1974 1980 1983 1978 1982 1983 1985 1984 1973 1977 1977 1981\n [953] 1978 1986 1980 1986 1986 1982 1984 1983 1983 1985 1980 1975 1985 1986\n [967] 1983 1974 1984 1973 1983 1975 1979 1986 1977 1983 1977 1973 1974 1977\n [981] 1985 1986 1977 1983 1984 1985 1973 1972 1979 1982 1974 1973 1974 1985\n [995] 1973 1986 1981 1972 1976 1983\nattr(,\"label\")\n[1] \"問1(2)_生年\"\nattr(,\"format.stata\")\n[1] \"%12.0g\""
  },
  {
    "objectID": "variables.html#ケースの選択",
    "href": "variables.html#ケースの選択",
    "title": "3  変数へのアクセス",
    "section": "4.4 ケースの選択",
    "text": "4.4 ケースの選択\n\nd |> filter(ybirth == 1981)\n\n# A tibble: 70 × 73\n   caseid sex        ybirth mbirth ZQ03        JC_1     JC_41    ZQ08A   ZQ08B  \n    <dbl> <dbl+lbl>   <dbl>  <dbl> <dbl+lbl>   <dbl+lb> <dbl+lb> <dbl+l> <dbl+l>\n 1  10040 1 [male]     1981      9 1 [してい…  2 [正… 12     … 4 [週… 1 [毎…\n 2  10059 1 [male]     1981      1 1 [してい…  2 [正… 10     … 5 [月… 1 [毎…\n 3  10064 1 [male]     1981      2 1 [してい… 12 [学…  1     … 5 [月… 1 [毎…\n 4  10100 2 [female]   1981     10 2 [してい… 10 [無… 88 [非… 6 [ほ… 1 [毎…\n 5  10102 2 [female]   1981      6 1 [してい…  3 [パ…  8     … 6 [ほ… 3 [週…\n 6  10119 2 [female]   1981      6 1 [してい…  3 [パ…  8     … 6 [ほ… 1 [毎…\n 7  10124 1 [male]     1981      7 2 [してい… 11 [学… 88 [非… 6 [ほ… 1 [毎…\n 8  10154 2 [female]   1981     11 1 [してい…  4 [派…  7     … 6 [ほ… 9 [無…\n 9  10159 2 [female]   1981      3 1 [してい…  2 [正…  8     … 6 [ほ… 1 [毎…\n10  10166 2 [female]   1981      6 1 [してい…  2 [正… 10     … 6 [ほ… 1 [毎…\n# ℹ 60 more rows\n# ℹ 64 more variables: ZQ08C <dbl+lbl>, ZQ08D <dbl+lbl>, ZQ08E <dbl+lbl>,\n#   ZQ08F <dbl+lbl>, ZQ08G <dbl+lbl>, ZQ08H <dbl+lbl>, ZQ11_A <dbl+lbl>,\n#   ZQ11_B <dbl+lbl>, ZQ11_C <dbl+lbl>, ZQ11_D <dbl+lbl>, ZQ11_E <dbl+lbl>,\n#   ZQ11_F <dbl+lbl>, ZQ11_G <dbl+lbl>, ZQ11_H <dbl+lbl>, ZQ11_I <dbl+lbl>,\n#   ZQ11_J <dbl+lbl>, ZQ11_K <dbl+lbl>, ZQ11_L <dbl+lbl>, ZQ11_M <dbl+lbl>,\n#   ZQ11_N <dbl+lbl>, ZQ11_O <dbl+lbl>, ZQ12 <dbl+lbl>, ZQ14_1A <dbl+lbl>, …"
  },
  {
    "objectID": "tips.html",
    "href": "tips.html",
    "title": "4  便利なRの機能",
    "section": "",
    "text": "便利だが普段はあまりつかわないため忘れがちな点についてメモしておく．"
  },
  {
    "objectID": "tips.html#関数の中身を確認する",
    "href": "tips.html#関数の中身を確認する",
    "title": "4  便利なRの機能",
    "section": "4.1 関数の中身を確認する",
    "text": "4.1 関数の中身を確認する\nmean()関数がどのようにして作成されているのかを確認したい場合，meanのように()をとって入力すればよい．しかし，UseMethod(\"mean\")のように関数が表示され，中身を確認できない場合もある．\n\nmean\n\nfunction (x, ...) \nUseMethod(\"mean\")\n<bytecode: 0x15565f598>\n<environment: namespace:base>\n\n\nこのような場合は，methods()関数を用いるとよい\n\nmethods(mean)\n\n[1] mean.Date*     mean.default*  mean.difftime* mean.POSIXct*  mean.POSIXlt* \n[6] mean.quosure* \nsee '?methods' for accessing help and source code\n\n\n．様々な結果が示されるがここでは，2めの要素にあるmean.default*を確認しよう．*をとってmean.defaultと入力するだけでよい．\n\nmean.default\n\nfunction (x, trim = 0, na.rm = FALSE, ...) \n{\n    if (!is.numeric(x) && !is.complex(x) && !is.logical(x)) {\n        warning(\"argument is not numeric or logical: returning NA\")\n        return(NA_real_)\n    }\n    if (isTRUE(na.rm)) \n        x <- x[!is.na(x)]\n    if (!is.numeric(trim) || length(trim) != 1L) \n        stop(\"'trim' must be numeric of length one\")\n    n <- length(x)\n    if (trim > 0 && n) {\n        if (is.complex(x)) \n            stop(\"trimmed means are not defined for complex data\")\n        if (anyNA(x)) \n            return(NA_real_)\n        if (trim >= 0.5) \n            return(stats::median(x, na.rm = FALSE))\n        lo <- floor(n * trim) + 1\n        hi <- n + 1 - lo\n        x <- sort.int(x, partial = unique(c(lo, hi)))[lo:hi]\n    }\n    .Internal(mean(x))\n}\n<bytecode: 0x145ef6a58>\n<environment: namespace:base>"
  }
]