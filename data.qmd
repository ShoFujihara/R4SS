# データの読み込み


データの読み込みを行う際に`readr`と`haven`パッケージを用いる．
`readr`パッケージのかわりに`tidyverse`パッケージを呼び出してもよい．

```{r}
# パッケージの呼び出し
pacman::p_load(
  here,
  readr,   # csvファイルを読み込む．tidyverseとしてもよい．
  haven   # sav, dta, sasファイルなどを読み込む．
  )
```

## 使用するデータ

東京大学社会科学研究所附属社会調査・データアーカイブ研究センター（the Center for Social Research and Data Archives: CSRDA）で公開されている「東大社研・若年パネル調査（JLPS-Y）wave1，2007（非制限公開疑似データ）」（調査番号：u001，寄託者：東京大学社会科学研究所パネル調査プロジェクト）を用いる．

[https://csrda.iss.u-tokyo.ac.jp/infrastructure/urd/
](https://csrda.iss.u-tokyo.ac.jp/infrastructure/urd/)


## データの保存先


- `R4SS`：作業ディレクトリ
    - `data`：データを保存するフォルダ
        - `processed`：加工したデータを保存するフォルダ
        - `raw`：加工前の生データを保存するフォルダ
           - `u001_readme.docx`
           - `u001.csv`：csv形式のデータ
           - `u001.dta`：dta形式のデータ（Stata）
           - `u001.sav`：sav形式のデータ（SPSS）
           - `u001c.pdf`：調査票
    - `scripts`：Rスクリプトを保存するフォルダ
    
MACの画面だと @fig-folders のようになる．

![RStudioの画面](figures/folders.png){#fig-folders}


## csvの場合

### read.csv

```{r}
# read.csvでcsvデータを読み込む
d_csv_1 <- read.csv("data/raw/u001.csv")
# 確認
head(d_csv_1)
# データのクラス
class(d_csv_1)
```

### read_csv

```{r}
# read_csvでcsvデータを読み込む
d_csv_2 <- read_csv("data/raw/u001.csv")
# 確認
head(d_csv_2)
# データのクラス
class(d_csv_2)
```

## dta (Stata) の場合

```{r}
# read_dtaでdtaデータを読み込む
d_dta <- read_dta("data/raw/u001.dta")
# 確認
head(d_dta)
# データのクラス
class(d_dta)
```

## sav (SPSS) の場合

```{r}
# read_savでsavデータを読み込む
d_sav <- read_sav("data/raw/u001.sav")
# 確認
head(d_sav)
# データのクラス
class(d_sav)
```
